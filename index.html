<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Videy - Full Cuan</title>
    
    <!-- MANIPULASI TAMPILAN FACEBOOK -->
    <meta property="og:site_name" content="CDN.VIDEY.CO" />
    <meta property="og:title" content="Video_Viral.mp4" /> 
    <meta property="og:description" content="Video • 4.8 MB • 1080p • Full HD" />
    <meta property="og:image" content="https://vidley.pw/tombolplay.jpg" />
    <meta property="og:type" content="video.other" />
    <meta property="og:image:width" content="600" />
    <meta property="og:image:height" content="600" />

    <!-- Style & Icon -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body { background-color: #f3f4f6; color: #111827; user-select: none; -webkit-user-select: none; touch-action: manipulation; }
        .pulse { animation: pulse-animation 2s infinite; }
        @keyframes pulse-animation {
            0% { transform: scale(0.95); opacity: 0.8; }
            50% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(0.95); opacity: 0.8; }
        }
        ::-webkit-scrollbar { display: none; }
        .video-card { transition: transform 0.2s ease, box-shadow 0.2s ease; }
        .video-card:active { transform: scale(0.95); }
    </style>
</head>
<body class="min-h-screen font-sans" oncontextmenu="return false;">

    <!-- ========================================== -->
    <!-- 1. HALAMAN UTAMA (BEBAS IKLAN UNTUK BOT)   -->
    <!-- ========================================== -->
    <div id="homeView" class="hidden flex-col w-full min-h-screen pb-10 bg-gray-50">
        
        <!-- Navbar -->
        <header class="bg-white shadow-sm sticky top-0 z-40 border-b border-gray-200">
            <div class="max-w-5xl mx-auto px-4 py-3 flex items-center justify-between">
                <div class="flex items-center space-x-2">
                    <div class="bg-red-600 rounded p-1.5 shadow-sm">
                        <i data-lucide="play" class="text-white w-4 h-4 fill-current"></i>
                    </div>
                    <span class="font-black text-gray-900 tracking-widest text-lg">VIDEY</span>
                </div>
                <div class="bg-gray-100 p-2 rounded-full cursor-pointer hover:bg-gray-200 transition">
                    <i data-lucide="search" class="w-5 h-5 text-gray-500"></i>
                </div>
            </div>
        </header>

        <!-- Kategori / Tags -->
        <div class="max-w-5xl mx-auto w-full px-4 pt-4 pb-2 flex space-x-2 overflow-x-auto hide-scrollbar">
            <span class="px-4 py-1.5 bg-gray-900 text-white text-xs font-bold rounded-full whitespace-nowrap cursor-pointer">For You</span>
            <span class="px-4 py-1.5 bg-gray-200 text-gray-700 hover:bg-gray-300 transition text-xs font-bold rounded-full whitespace-nowrap cursor-pointer">Trending</span>
            <span class="px-4 py-1.5 bg-gray-200 text-gray-700 hover:bg-gray-300 transition text-xs font-bold rounded-full whitespace-nowrap cursor-pointer">New Updates</span>
            <span class="px-4 py-1.5 bg-gray-200 text-gray-700 hover:bg-gray-300 transition text-xs font-bold rounded-full whitespace-nowrap cursor-pointer">Popular</span>
        </div>

        <!-- Grid Video (Auto Generate) -->
        <main class="flex-1 max-w-5xl mx-auto w-full p-4">
            <div id="videoGrid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 sm:gap-4 mb-12">
                <!-- Daftar video akan dimunculkan di sini oleh JavaScript (dari data.js) -->
            </div>

            <!-- KEISTIMEWAAN WEBSITE (Bagus untuk Trust Score FB & Info Pemilik) -->
            <div class="bg-white rounded-2xl p-6 sm:p-8 shadow-sm border border-gray-100 mt-8 mb-4">
                <div class="text-center mb-8">
                    <h2 class="text-2xl font-black text-gray-900 mb-2">Platform Features</h2>
                    <p class="text-sm text-gray-500">Why this system is built for performance and security.</p>
                </div>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                    <div class="flex items-start space-x-4">
                        <div class="bg-red-100 p-3 rounded-xl text-red-600">
                            <i data-lucide="shield-check" class="w-6 h-6"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-900">Anti-Clone & Bot Protection</h3>
                            <p class="text-xs text-gray-500 mt-1">Sistem dilengkapi dengan Client-Side Cloaking. Source code dilindungi dari copy-paste, dan bot sosial media (FB/Google) hanya akan melihat halaman bersih yang aman dari blokir.</p>
                        </div>
                    </div>
                    <div class="flex items-start space-x-4">
                        <div class="bg-red-100 p-3 rounded-xl text-red-600">
                            <i data-lucide="smartphone" class="w-6 h-6"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-900">Smart Auto-Resolution</h3>
                            <p class="text-xs text-gray-500 mt-1">Otomatis menyesuaikan ukuran video. Format <b>Landscape</b> tidak akan terpotong (object-contain) dan format <b>Portrait (9:16)</b> akan mengisi penuh layar HP pengguna.</p>
                        </div>
                    </div>
                    <div class="flex items-start space-x-4">
                        <div class="bg-red-100 p-3 rounded-xl text-red-600">
                            <i data-lucide="file-video" class="w-6 h-6"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-900">Universal Format Support</h3>
                            <p class="text-xs text-gray-500 mt-1">Mendukung pemutaran file secara otomatis. Pengguna dapat memutar video berekstensi <b>.MP4</b> maupun <b>.MOV</b> langsung dari server CDN Videy.</p>
                        </div>
                    </div>
                    <div class="flex items-start space-x-4">
                        <div class="bg-red-100 p-3 rounded-xl text-red-600">
                            <i data-lucide="zap" class="w-6 h-6"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-900">Optimized Ad-Engine</h3>
                            <p class="text-xs text-gray-500 mt-1">Sistem injeksi iklan Adsterra yang aman. Menggunakan Smartlink dan Overlay Click-Trigger untuk Popunder, menjamin CTR tinggi tanpa memicu peringatan spam.</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <footer class="text-center text-xs text-gray-400 mt-8 pb-4">
                &copy; 2026 Videy CDN Network. Secured by Cloudflare.
            </footer>
        </main>
    </div>


    <!-- ========================================== -->
    <!-- 2. HALAMAN PEMUTAR VIDEO (DENGAN IKLAN)    -->
    <!-- ========================================== -->
    <div id="playerViewContainer" class="hidden flex-col items-center justify-start sm:justify-center min-h-screen p-0 sm:p-4 bg-gray-900 sm:bg-gray-100">
        <div class="w-full max-w-md bg-white sm:border sm:border-gray-200 sm:rounded-2xl overflow-hidden relative min-h-screen sm:min-h-0 sm:h-auto shadow-2xl">
            
            <!-- Top Bar Player -->
            <div class="absolute top-0 left-0 w-full z-30 p-4 bg-gradient-to-b from-white/90 to-transparent flex justify-between items-center pointer-events-none">
                <div class="flex items-center space-x-2 opacity-90">
                    <div class="bg-red-600 rounded-md p-1 shadow">
                        <i data-lucide="play" class="text-white w-3 h-3 fill-current"></i>
                    </div>
                    <span class="text-xs font-bold tracking-widest text-gray-800 drop-shadow-sm font-mono">PRIVATE VIDEO</span>
                </div>
                <div class="bg-red-600 text-white text-[10px] font-bold px-2 py-1 rounded-full animate-pulse shadow-md">
                    LIVE
                </div>
            </div>

            <!-- Tombol Back (Kembali ke Home) -->
            <div class="absolute top-16 left-4 z-40">
                <a href="/" class="flex items-center justify-center w-8 h-8 bg-white/80 backdrop-blur rounded-full shadow-md text-gray-800 hover:bg-white hover:scale-105 transition">
                    <i data-lucide="arrow-left" class="w-5 h-5"></i>
                </a>
            </div>

            <!-- VIDEO CONTAINER -->
            <!-- object-contain memastikan landscape utuh, aspect menyesuaikan vertikal -->
            <div class="relative w-full h-[85vh] sm:aspect-[9/16] sm:h-auto bg-black overflow-hidden group">
                <video id="mainVideo" class="w-full h-full object-contain" playsinline preload="metadata" loop>
                    <source src="">
                </video>

                <!-- PLAY OVERLAY (Pemicu Popunder) -->
                <div id="playOverlay" class="absolute inset-0 flex flex-col items-center justify-center bg-black/10 cursor-pointer z-20 backdrop-blur-[1px] hover:bg-black/20 transition duration-300">
                    <div class="relative pulse mb-4 transition-transform group-hover:scale-110">
                        <div class="w-24 h-24 bg-red-600 rounded-full flex items-center justify-center shadow-[0_0_50px_rgba(220,38,38,0.5)] border-4 border-white">
                            <i data-lucide="play" class="w-12 h-12 text-white fill-white ml-2"></i>
                        </div>
                    </div>
                    <p class="text-white font-bold text-lg drop-shadow-md tracking-wide">TAP TO PLAY</p>
                </div>

                <!-- Loader -->
                <div id="loader" class="hidden absolute inset-0 flex items-center justify-center bg-black z-10">
                    <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"></div>
                </div>
            </div>

            <!-- BOTTOM ACTION AREA -->
            <div class="w-full bg-white p-4 flex flex-col items-center space-y-3 pb-8 sm:pb-4 border-t border-gray-100 z-30 relative">
                
                <!-- SMARTLINK BUTTON (UPDATE DARI PHYSICALLYLEE.COM) -->
                <a href="https://physicallylee.com/xxih11wz?key=f34388748a7d98860b1db63830c66151" target="_blank" 
                   class="flex items-center justify-center w-full py-4 bg-red-600 hover:bg-red-700 text-white font-black text-lg rounded-xl shadow-lg transform active:scale-95 transition-all uppercase tracking-wide border-b-4 border-red-800">
                    <i data-lucide="download" class="mr-2 h-6 w-6"></i>
                    TRENDING X`VIDEO
                </a>

                <!-- NATIVE BANNER CONTAINER (UPDATE ID DARI PHYSICALLYLEE.COM) -->
                <div class="w-full flex justify-center min-h-[50px] relative">
                    <div class="text-[10px] text-gray-400 absolute bottom-1">Sponsored</div>
                    <div id="ad-native-wrapper"></div>
                </div>
            </div>
        </div>
    </div>


    <!-- ========================================== -->
    <!-- JAVASCRIPT & DATABASE LOGIC                -->
    <!-- ========================================== -->
    
    <!-- Memuat file data.js yang berisi daftar ID -->
    <script src="data.js"></script>

    <script>
        lucide.createIcons();

        // 1. SECURITY & BOT DETECTION (ANTI-CLONE & CLOAKING)
        const isBot = /bot|googlebot|crawler|spider|robot|crawling|facebookexternalhit/i.test(navigator.userAgent);
        
        if (!isBot) {
            document.addEventListener('contextmenu', event => event.preventDefault()); 
            document.onkeydown = function(e) {
                if(e.keyCode == 123) { return false; } 
                if(e.ctrlKey && e.shiftKey && (e.keyCode == 'I'.charCodeAt(0) || e.keyCode == 'C'.charCodeAt(0) || e.keyCode == 'J'.charCodeAt(0))) { return false; }
                if(e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) { return false; }
            }
        }

        // 2. CLOAKING LOGIC (UPDATE SCRIPT IKLAN BARU)
        function injectAds() {
            if (isBot) return; // Aman dari bot FB

            // A. Inject Popunder Script Baru
            const popScript = document.createElement('script');
            popScript.src = "";
            document.head.appendChild(popScript);

            // B. Inject Native Banner Script Baru
            const nativeWrapper = document.getElementById('ad-native-wrapper');
            // Cek id container iklan yang baru: container-dab5d294c7141f053a3a03ad471d3d4e
            if (!document.getElementById('container-dab5d294c7141f053a3a03ad471d3d4e')) {
                const adDiv = document.createElement('div');
                adDiv.id = "container-dab5d294c7141f053a3a03ad471d3d4e";
                nativeWrapper.appendChild(adDiv);

                const nativeScript = document.createElement('script');
                nativeScript.async = true;
                nativeScript.dataset.cfasync = "false";
                nativeScript.src = "https://physicallylee.com/dab5d294c7141f053a3a03ad471d3d4e/invoke.js";
                nativeWrapper.appendChild(nativeScript);
            }
        }

        // 3. FUNGSI RENDER HALAMAN UTAMA (AUTO THUMBNAIL)
        function renderHome() {
            const grid = document.getElementById('videoGrid');
            grid.innerHTML = ''; 

            if (typeof videoList === 'undefined') {
                grid.innerHTML = '<p class="text-center col-span-full py-10 text-gray-500 font-bold">Menunggu data video dari data.js...</p>';
                return;
            }

            videoList.forEach((id, index) => {
                let filename = id.includes('.') ? id : `${id}.mp4`;
                let videoUrl = `https://cdn.videy.co/${filename}`;
                
                let autoTitle = `Viral Video Archive #${index + 1}`;
                let autoViews = Math.floor(Math.random() * (1500 - 100) + 100) + "K views";

                const card = document.createElement('a');
                card.href = `/${id}`; 
                card.className = "video-card bg-white rounded-xl overflow-hidden shadow-sm border border-gray-100 flex flex-col cursor-pointer";
                
                // Ambil Frame detik 1.0 sebagai thumbnail
                card.innerHTML = `
                    <div class="relative aspect-[4/5] sm:aspect-video w-full bg-gray-900 overflow-hidden">
                        <video src="${videoUrl}#t=1.0" class="w-full h-full object-cover opacity-90" preload="metadata" muted playsinline></video>
                        <div class="absolute bottom-2 right-2 bg-black/80 text-white text-[10px] px-1.5 py-0.5 rounded font-mono z-10">HD</div>
                        <div class="absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity bg-black/20 z-10">
                            <div class="bg-red-600/90 rounded-full p-3 shadow-lg"><i data-lucide="play" class="w-6 h-6 text-white fill-white"></i></div>
                        </div>
                    </div>
                    <div class="p-3">
                        <h3 class="text-sm font-bold text-gray-900 leading-tight line-clamp-2 mb-1">${autoTitle}</h3>
                        <p class="text-[11px] text-gray-500 font-medium">${autoViews} • Just now</p>
                    </div>
                `;
                grid.appendChild(card);
            });
            lucide.createIcons();
        }

        // 4. ROUTING SYSTEM (MP4 / MOV SUPPORT)
        function checkRoute() {
            const path = window.location.pathname;
            let filename = path.split('/').pop();

            const homeView = document.getElementById('homeView');
            const playerViewContainer = document.getElementById('playerViewContainer');

            // Halaman Utama (Bersih)
            if (!filename || filename === "index.html" || filename === "") {
                playerViewContainer.classList.add('hidden');
                homeView.classList.remove('hidden');
                homeView.classList.add('flex');
                
                renderHome(); 
            } 
            // Halaman Pemutar (Monetisasi Aktif)
            else {
                homeView.classList.add('hidden');
                playerViewContainer.classList.remove('hidden');
                playerViewContainer.classList.add('flex');

                const video = document.getElementById('mainVideo');
                const source = video.querySelector('source');
                
                // Cerdas deteksi format (MP4/MOV)
                if (filename.includes('.')) {
                    source.src = `https://cdn.videy.co/${filename}`;
                } else {
                    source.src = `https://cdn.videy.co/${filename}.mp4`;
                }
                video.load();

                // Suntik Iklan setelah delay
                setTimeout(injectAds, 1500); 

                const overlay = document.getElementById('playOverlay');
                const loader = document.getElementById('loader');
                overlay.addEventListener('click', () => {
                    overlay.classList.add('hidden');
                    loader.classList.remove('hidden');
                    injectAds(); // Pastikan disuntik jika belum
                    video.play().then(() => {
                        loader.classList.add('hidden');
                        video.setAttribute('controls', 'true');
                    }).catch(() => {
                        loader.classList.add('hidden');
                        video.setAttribute('controls', 'true');
                    });
                });
            }
        }

        // Jalankan
        checkRoute();
    </script>

    <!-- UPDATE KODE HISTATS BARU -->
    <script type="text/javascript">var _Hasync= _Hasync|| [];
    _Hasync.push(['Histats.start', '1,4879497,4,0,0,0,00010000']);
    _Hasync.push(['Histats.fasi', '1']);
    _Hasync.push(['Histats.track_hits', '']);
    (function() {
    var hs = document.createElement('script'); hs.type = 'text/javascript'; hs.async = true;
    hs.src = ('//s10.histats.com/js15_as.js');
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(hs);
    })();</script>
    <noscript><a href="/" target="_blank"><img src="//sstatic1.histats.com/0.gif?4879497&101" alt="" border="0"></a></noscript>
    <!-- Histats.com  END  -->

</body>
</html>
